webpackJsonp([43],{EyJb:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("OvRC"),n=r.n(a),s=r("Gu7T"),i=r.n(s),o=r("//Fk"),c=r.n(o),d=r("Dvzh"),l=r("IiJq"),u=r("542P"),p={name:"Completed",components:{Card:l.a,Course:u.a},data:function(){return{isLoading:!1,dataIsEmpty:!1,pageNum:1,orderList:[]}},props:{},computed:{height:function(){return this.$parent.totalHeight-this.$parent.headerHeight}},mounted:function(){this.loadMore()},beforeDestroy:function(){},methods:{commentsCheck:function(t){this.$router.push({path:"/viewevaluation",query:{orderid:t.id.toString()}})},gofordetail:function(t){this.$router.push({path:"/illnessdetails",query:{id:t.id.toString()}})},loadMore:function(){var t=this;return this.isLoading=!0,new c.a(function(e,r){Object(d.e)({listStatus:2,pageSize:10,pageNum:t.pageNum++}).then(function(r){if(t.isLoading=!1,200===r.data.code){var a=t.analyOrders(r.data.data.patientOrders),n=a.length;t.orderList=[].concat(i()(t.orderList),i()(a)),e(n),t.dataIsEmpty=!Boolean(n)}})})},analyOrders:function(t){if(!t.length)return[];for(var e=0;e<t.length;e++){var r=n()(null);for(var a in t[e])"children"!==a&&(r[a]=t[e][a]);t[e].children.unshift(r)}return t}}},v={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"scroll",rawName:"v-scroll",value:t.loadMore,expression:"loadMore"}],style:{height:t.height+"px"},attrs:{id:"completed"}},[r("div",{staticClass:"illorders"},[t._l(t.orderList,function(e,a){return r("div",{key:a,staticClass:"illorder"},[r("Course",[t._l(e.children,function(a,n){return r("Card",{key:n,attrs:{slot:"card",cardData:a,orderData:e,tag:a.count},slot:"card"},[r("div",{staticClass:"currentprocess",attrs:{slot:"currentprocess"},slot:"currentprocess"},[r("p",[r("span",[t._v("当前:")]),t._v(" "),r("span",[t._v("第 "+t._s(a.nowTreatment)+" 疗程")])])]),t._v(" "),r("div",{staticClass:"process",attrs:{slot:"process"},slot:"process"},[r("span",[t._v("总共:"+t._s(e.totalTreatment)+" 疗程")]),t._v(" "),r("div",[a.drug?r("span",{staticClass:"detail",on:{click:function(e){t.gofordetail(a)}}},[t._v("查看详情")]):t._e()])])])}),t._v(" "),r("div",{staticClass:"action",attrs:{slot:"action"},slot:"action"},[r("div",{on:{click:function(r){t.commentsCheck(e)}}},[t._v("查看评价")])])],2)],1)}),t._v(" "),r("ScrollLoading",{attrs:{isLoading:t.isLoading}},[t.dataIsEmpty?r("p",[t._v("---没有更多订单了---")]):t._e()])],2)])},staticRenderFns:[]};var h=r("VU/8")(p,v,!1,function(t){r("XyDi")},"data-v-563c4ab2",null);e.default=h.exports},XyDi:function(t,e){}});