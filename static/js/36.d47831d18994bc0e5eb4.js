webpackJsonp([36],{"U+Hl":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("2ZOi"),n=(a("IcnI"),{name:"QuickFindDoctor",data:function(){return{dieaseType:[],activeIndex:null,activeDieaseCode:null,textarea:"",validateTable:{content:{required:!0,reg:/^.{0,100}$/,message:"病情描述不得超过 100 字"}},wordLimit:100}},computed:{textareaLength:function(){return this.textarea.length},titleComputed:function(){return this.$route.query.doctorid?"病情描述":"我要寻医"}},watch:{textarea:function(e){}},beforeRouteEnter:function(e,t,a){a(function(e){e.$route.query.doctorid||e.$sessionStorage.removeItem("currentDoctorInfo")})},beforeRouteLeave:function(e,t,a){"Home"===e.name&&this.$sessionStorage.removeItem("dieaseDescribe"),a()},created:function(){this.$validate.init(this)},mounted:function(){this.getDieaseType()},methods:{getDieaseType:function(){var e=this;Object(i.f)().then(function(t){200===t.data.code&&(e.dieaseType=t.data.data,e.regetDiease())})},regetDiease:function(){var e=this.$sessionStorage.getItem("dieaseDescribe");e&&(this.textarea=e.patientDescription,this.activeIndex=e.currentIndex,this.activeDieaseCode=e.patientProjectCode,this.diease=this.dieaseType[this.activeIndex].name)},routeBack:function(){this.$router.push({path:"/"})},routeTo:function(){var e=this;this.activeDieaseCode?this.$validate.check(this,"form_").then(function(t){e.$sessionStorage.setItem("dieaseDescribe",{patientProjectCode:e.activeDieaseCode,patientDescription:e.textarea,currentIndex:e.activeIndex,dieaseType:e.diease}),e.$router.push({path:"/consultconfirm",query:{doctorid:e.$route.query.doctorid}})}).catch(function(e){}):alert("疾病类型必填")},toggleActive:function(e,t){this.activeIndex=e,this.activeDieaseCode=t.code,this.diease=t.name}}}),s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"quickfinddoctor"}},[a("header",[a("Backfront",{attrs:{maintitle:e.titleComputed,isNormal:!1,nextTitle:"下一步"},on:{back:e.routeBack,next:e.routeTo}},[a("span",{attrs:{slot:"operation"},slot:"operation"},[e._v("下一步")])])],1),e._v(" "),a("main",[a("div",{staticClass:"disease dieasetype"},[a("div",{staticClass:"diseasetitle"},[a("p",[e._v("选择您要咨询的疾病类型, 至少选择一项")]),e._v(" "),a("div",{staticClass:"content"},e._l(e.dieaseType,function(t,i){return a("div",{directives:[{name:"echo",rawName:"v-echo"}],key:i,staticClass:"type",class:{active:e.activeIndex===i},on:{click:function(a){e.toggleActive(i,t)}}},[e._v(e._s(t.name))])}))])]),e._v(" "),a("div",{staticClass:"disease dieasedesc"},[a("div",{staticClass:"diseasetitle"},[a("p",[e._v("请简要描述您的疾病")]),e._v(" "),a("div",{staticClass:"content"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.textarea,expression:"textarea"},{name:"validate",rawName:"v-validate:form_$textarea",value:e.validateTable.content,expression:"validateTable.content",arg:"form_$textarea"}],attrs:{placeholder:"请详细描述您当前的病症, 以及您希望得到什么样的帮助",rows:"10",cols:"20"},domProps:{value:e.textarea},on:{input:function(t){t.target.composing||(e.textarea=t.target.value)}}}),e._v(" "),a("span",[a("i",{class:{limitErr:e.wordLimit<e.textareaLength}},[e._v(e._s(e.textareaLength))]),e._v("\n            / "+e._s(e.wordLimit)+"\n          ")])])])])])])},staticRenderFns:[]};var o=a("VU/8")(n,s,!1,function(e){a("mFL1")},"data-v-cb4683ce",null);t.default=o.exports},mFL1:function(e,t){}});