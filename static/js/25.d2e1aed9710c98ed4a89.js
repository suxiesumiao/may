webpackJsonp([25],{VnQx:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAjCAYAAADxG9hnAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjUzNEEzQ0U3MEUzRTExRTk4REUzQzMyODA4OTk0MTYyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjUzNEEzQ0U4MEUzRTExRTk4REUzQzMyODA4OTk0MTYyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NTM0QTNDRTUwRTNFMTFFOThERTNDMzI4MDg5OTQxNjIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NTM0QTNDRTYwRTNFMTFFOThERTNDMzI4MDg5OTQxNjIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5jz0pyAAABiUlEQVR42syXMVLDMBBFjYeCjnSUUUVLbhCX3CLcAEo6wg10A5wbmBMQnwCnTEXcUYobsJpZzWhEZMnSSkIz6xlHsvL8d/8qubhpj1XhcQ/RXxYEaCC2EOx7c8tKgDCIFmKN96/yUhcA+NIg5ODykkORBcQTxrUxt4O0iBwgWwuAPl+lBHnAL1lOrOkhTqlAGsz5ncdart9Qgaxw47Xn+hGi0z+oiZzwOQPijxoxiignvAQ8+4Pw0SAuJ7iGhBAxID5OCEqLL0iDb7EkKOp33bK+xSoB9hAfRBBWNWyKMEzBhrjHjPhiTpAFAjwmbPfVFMgVxHOkE3ws200tqBFE2apHCakHP2dZUxFhka3BdK2wbtjM7mn2jsoFYhuqsLozXVXBvXlA7GyWjT1rBEKqVEarQXHo7R3zB481WUC470axIIOjgbW5QATKH1wbVCBT6eG5QQaLZcV/UITP3YQC5GQcC72jiJOBmKrwkA2oQAbb34RSivDQDSgVGef2jhQg6meDCH34V4ABAJiIUgDWr5JUAAAAAElFTkSuQmCC"},"Zx/N":function(e,t){},kCTu:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("//Fk"),o=i.n(n),r=i("IcnI"),a=(i("2uEE"),i("q4mE")),s=i.n(a),c=r.a.getters.baidumap_ak;function d(e){var t=e.lat,i=e.lng;return new o.a(function(e,n){window.renderReverseBaidu=function(t){0===t.status?e(t):n("error")};var o=document.createElement("script");o.type="text/javascript",o.src="http://api.map.baidu.com/geocoder/v2/?callback=renderReverseBaidu&location="+t+","+i+"&output=json&pois=1&ak="+c,document.getElementsByTagName("head")[0].appendChild(o),setTimeout(function(){document.getElementsByTagName("head")[0].removeChild(o)},100)})}var u={name:"ChooseSelfInfoAddress",data:function(){return{camp:null,currentIndex:null,currentTouchStartEvent:null,negShow:!0,positionNeighbor_:null,searching:"",tempAreaCode:null,tempCityCode:null}},computed:{baidumap:function(){return this.$store.getters.baidumap},coords:function(){return this.$store.getters.coords},coords_tr:function(){return this.$store.getters.coords_transformed},currentCityName:function(){return this.$store.getters.city},positionNeighbor:function(){return this.positionNeighbor_||this.$store.state.positionModule.position.pois},areaCode:function(){return this.tempAreaCode||this.$store.state.positionModule.position.addressComponent.adcode},cityCode:function(){return(this.tempCityCode||this.$store.state.positionModule.position.cityCode).toString()}},watch:{currentTouchStartEvent:function(){this.currentIndex=null}},mounted:function(){var e=this;this.init();var t=document.getElementById("searching").getElementsByTagName("form")[0],i=t.getElementsByTagName("input")[0];t.addEventListener("submit",function(t){i.blur(),t.preventDefault(),e.searchByWords()},!1)},methods:{init:function(){var e=this,t=new window.BMap.Geocoder;if(window.BMap&&this.coords_tr){this.map=new window.BMap.Map("mapcontainer"),this.map.centerAndZoom(new window.BMap.Point(this.coords_tr.longitude,this.coords_tr.latitude),15);var i=new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_RIGHT,type:BMAP_NAVIGATION_CONTROL_SMALL});this.map.addControl(i),n(),this.map.addEventListener("dragstart",function(){e.inputBlur(),e.currentIndex=null}),this.map.addEventListener("touchstart",function(t){e.inputBlur(),e.currentTouchStartEvent=t}),this.map.addEventListener("touchend",function(){var i=e.currentTouchStartEvent.point;d(i).then(function(t){e.positionNeighbor_=t.result.pois,e.tempAreaCode=t.result.addressComponent.adcode,e.tempCityCode=t.result.cityCode}).then(function(n){t.getLocation(i,function(t){var i=t.addressComponents;e.camp={countryCode:"0",countryName:"中国",provinceCode:"",provinceName:i.province,cityCode:e.cityCode,cityName:i.city,areaCode:e.areaCode,areaName:i.district,streetCode:i.streetNumber,streetName:i.street,address:""},e.campPlain=t.address,e.searching=i.province+i.city+i.district+i.street+i.streetNumber})}).catch(function(e){});var o=new window.BMap.Icon(s.a,new window.BMap.Size(50,50)),r=new window.BMap.Marker(i,{icon:o}),a=new window.BMap.Circle(i,200,{strokeColor:"transparent",strokeWeight:1,strokeOpacity:0,fillColor:"#15baff",fillOpacity:.25}),c=new window.BMap.Circle(i,800,{strokeColor:"transparent",strokeWeight:1,strokeOpacity:0,fillColor:"#15baff",fillOpacity:.1});e.map.clearOverlays(),n(),e.map.addOverlay(r),e.map.addOverlay(a),e.map.addOverlay(c)})}function n(){var t=new window.BMap.Point(e.coords_tr.longitude,e.coords_tr.latitude),i=new window.BMap.Marker(t);e.map.addOverlay(i)}},inputFocus:function(){this.negShow=!1},inputBlur:function(){this.negShow=!0},routeBack:function(){this.$router.go(-1)},getDis:function(e){return e<1e3?e+"m":Math.ceil((e/1e3).toFixed(2))+"km"},confirm:function(){this.camp&&this.campPlain&&(this.$sessionStorage.setItem("addAdressSelected",this.camp),this.$sessionStorage.setItem("addAddressSelectedPlain",this.campPlain),this.$router.go(-1))},chooseNeg:function(e,t){this.currentIndex=e,this.searchByCoords(t)},searchByCoords:function(e){var t=this,i=new window.BMap.Geocoder,n=new window.BMap.Point(e.point.x,e.point.y);i.getLocation(n,function(e){t.searching=e.address;var i=e.addressComponents;t.camp={countryCode:"0",countryName:"中国",provinceCode:"",provinceName:i.province,cityCode:t.cityCode,cityName:i.city,areaCode:t.areaCode,areaName:i.district,streetCode:i.streetNumber,streetName:i.street,address:""},t.campPlain=e.address})},searchByWords:function(){var e=this;if(this.searching){var t=new window.BMap.Geocoder;t.getPoint(this.searching,function(i){if(i){e.map.clearOverlays(),e.map.centerAndZoom(i,15),e.map.addOverlay(new window.BMap.Marker(i));var n=new window.BMap.Point(i.lng,i.lat);d(i).then(function(t){e.positionNeighbor_=t.result.pois,e.tempAreaCode=t.result.addressComponent.adcode,e.tempCityCode=t.result.cityCode}).then(function(i){t.getLocation(n,function(t){e.searching=t.address;var i=t.addressComponents;e.camp={countryCode:"0",countryName:"中国",provinceCode:"",provinceName:i.province,cityCode:e.cityCode,cityName:i.city,areaCode:e.areaCode,areaName:i.district,streetCode:i.streetNumber,streetName:i.street,address:""},e.campPlain=t.address})}).catch(function(e){})}else e.$message({message:"未能检索到所填地址的有关信息",type:"warning"})},e.currentCityName)}}}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"chooseaddress"}},[n("header",[n("Backfront",{attrs:{maintitle:"选择您的地址",isNormal:!0,nextTitle:"下一步"},on:{back:e.routeBack}})],1),e._v(" "),n("div",{attrs:{id:"searching"}},[n("form",{staticStyle:{overflow:"hidden"},attrs:{action:""}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searching,expression:"searching"}],ref:"inputing",attrs:{type:"search",placeholder:"请在这里搜索地址..."},domProps:{value:e.searching},on:{focus:e.inputFocus,blur:e.inputBlur,keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.searchByWords(t):null},input:function(t){t.target.composing||(e.searching=t.target.value)}}})])]),e._v(" "),n("main",[n("div",{attrs:{id:"mapcontainer"}}),e._v(" "),e.negShow?n("div",{attrs:{id:"neighbor"}},e._l(e.positionNeighbor,function(t,o){return n("div",{key:o,staticClass:"item",class:{active:e.currentIndex===o},on:{click:function(i){e.chooseNeg(o,t)}}},[e.currentIndex===o?n("img",{attrs:{src:i("VnQx")}}):n("img",{attrs:{src:i("vwrI")}}),e._v(" "),n("div",{staticClass:"addresswrapper"},[n("p",{staticClass:"sup"},[e._v(e._s(t.name))]),e._v(" "),n("p",{staticClass:"sub"},[n("span",{staticClass:"subrel"},[e._v(e._s(t.addr))]),e._v(" "),n("span",{staticClass:"dis"},[e._v("距您: "+e._s(e.getDis(t.distance)))])])])])})):e._e()]),e._v(" "),n("div",{staticClass:"tail"}),e._v(" "),n("footer",[n("div",{staticClass:"confirm",on:{click:e.confirm}},[e._v("确定")])])])},staticRenderFns:[]};var l=i("VU/8")(u,m,!1,function(e){i("Zx/N")},"data-v-7eafb2b1",null);t.default=l.exports},vwrI:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAjCAYAAADxG9hnAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjcwMkUyOEY3MEUzRTExRTlBRjVEQkRDNUZGMzZCOEM1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjcwMkUyOEY4MEUzRTExRTlBRjVEQkRDNUZGMzZCOEM1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NzAyRTI4RjUwRTNFMTFFOUFGNURCREM1RkYzNkI4QzUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzAyRTI4RjYwRTNFMTFFOUFGNURCREM1RkYzNkI4QzUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4lMNCnAAABh0lEQVR42syXwVHDMBBFjYcDN9JB1AHpID7SBTn5CkduhA509YmkA1MBcQWYCog7EB2wmlnNaERkydJKQjPrGUey8vx3/yq5atu2KjzuIYbrggANxB6CdV3HSoAwiAPEFu9f5aUuAPCtQcjB5SWHIiuIJ4xbY+4IaRE5QPYWAH2+Sgmywy9Zz6wZIM6pQBrM+Z3HWq7fUIFscOOt5/oJotc/qImc8LkA4o8aMYooJ7wEPPuD8NEgLie4hoQQMSA+TghKiy9Ig2+xJijqd92yvsUqAU4QH0QQVjVsijBMwQNxj5nwxZwgKwR4TNjuqzmQG4jnSCf4WLafW1AjiLLVgBJSD37JsqYiwiJbg+naYN2whd3T7B2VC8Q2VGH1F7qqgnvzgDjaLBt71giEVKmMVoPi0Ds55r881mQB4b4bxYKMjgZ2yAUiUP7g2qACmUsPzw0yWiwr/oMifOkmFCBn41gYHEWcDMRUhYdsQAUy2v4mlFKEh25Aqci0tHekAFE/G0Tow78CDAAdEFJesAK7YwAAAABJRU5ErkJggg=="}});